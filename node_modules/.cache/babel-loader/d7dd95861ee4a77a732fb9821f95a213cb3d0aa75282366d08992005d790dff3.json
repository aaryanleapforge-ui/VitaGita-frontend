{"ast":null,"code":"/**\r\n * Dashboard Page\r\n * \r\n * Shows overview statistics and charts\r\n */import React,{useState,useEffect}from'react';import api from'../api';import{BarChart,Bar,PieChart,Pie,Cell,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{FiUsers,FiBook,FiBookmark,FiTrendingUp}from'react-icons/fi';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=['#0D1B3E','#D4AF37','#F4E6C3','#8B7355','#C4A77D'];function Dashboard(){const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{setLoading(true);const response=await api.get('/analytics/stats');if(response.data.success){setStats(response.data.data);}}catch(err){setError('Failed to fetch statistics');console.error(err);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});}if(!stats)return null;const{overview,themes,chapters,recentUsers}=stats;// Prepare chart data\nconst themesData=Object.entries(themes).map(_ref=>{let[name,value]=_ref;return{name,value};}).slice(0,10);const chaptersData=Object.entries(chapters).map(_ref2=>{let[name,value]=_ref2;return{name:name.replace('Chapter','Ch'),shloks:value};});return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{backgroundColor:'#e0f2fe'},children:/*#__PURE__*/_jsx(FiUsers,{size:24,color:\"#0369a1\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:overview.totalUsers}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Users\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{backgroundColor:'#fef3c7'},children:/*#__PURE__*/_jsx(FiBook,{size:24,color:\"#92400e\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:overview.totalShloks}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Shloks\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{backgroundColor:'#ddd6fe'},children:/*#__PURE__*/_jsx(FiBookmark,{size:24,color:\"#5b21b6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:overview.totalBookmarks}),/*#__PURE__*/_jsx(\"p\",{children:\"Total Bookmarks\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",style:{backgroundColor:'#d1fae5'},children:/*#__PURE__*/_jsx(FiTrendingUp,{size:24,color:\"#065f46\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:overview.totalThemes}),/*#__PURE__*/_jsx(\"p\",{children:\"Unique Themes\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Recent Users\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Joined\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recentUsers.map((user,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.createdAt).toLocaleDateString()})]},index))})]})})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","api","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","FiUsers","FiBook","FiBookmark","FiTrendingUp","jsx","_jsx","jsxs","_jsxs","COLORS","Dashboard","stats","setStats","loading","setLoading","error","setError","fetchStats","response","get","data","success","err","console","className","children","overview","themes","chapters","recentUsers","themesData","Object","entries","map","_ref","name","value","slice","chaptersData","_ref2","replace","shloks","style","backgroundColor","size","color","totalUsers","totalShloks","totalBookmarks","totalThemes","user","index","email","Date","createdAt","toLocaleDateString"],"sources":["C:/Users/ASUS/Downloads/gita_admin_panel/client/src/pages/Dashboard.js"],"sourcesContent":["/**\r\n * Dashboard Page\r\n * \r\n * Shows overview statistics and charts\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from '../api';\r\nimport { BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { FiUsers, FiBook, FiBookmark, FiTrendingUp } from 'react-icons/fi';\r\nimport './Dashboard.css';\r\n\r\nconst COLORS = ['#0D1B3E', '#D4AF37', '#F4E6C3', '#8B7355', '#C4A77D'];\r\n\r\nfunction Dashboard() {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/analytics/stats');\r\n      \r\n      if (response.data.success) {\r\n        setStats(response.data.data);\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to fetch statistics');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-screen\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">{error}</div>;\r\n  }\r\n\r\n  if (!stats) return null;\r\n\r\n  const { overview, themes, chapters, recentUsers } = stats;\r\n\r\n  // Prepare chart data\r\n  const themesData = Object.entries(themes).map(([name, value]) => ({\r\n    name,\r\n    value\r\n  })).slice(0, 10);\r\n\r\n  const chaptersData = Object.entries(chapters).map(([name, value]) => ({\r\n    name: name.replace('Chapter', 'Ch'),\r\n    shloks: value\r\n  }));\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h1 className=\"page-title\">Dashboard</h1>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ backgroundColor: '#e0f2fe' }}>\r\n            <FiUsers size={24} color=\"#0369a1\" />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>{overview.totalUsers}</h3>\r\n            <p>Total Users</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ backgroundColor: '#fef3c7' }}>\r\n            <FiBook size={24} color=\"#92400e\" />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>{overview.totalShloks}</h3>\r\n            <p>Total Shloks</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ backgroundColor: '#ddd6fe' }}>\r\n            <FiBookmark size={24} color=\"#5b21b6\" />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>{overview.totalBookmarks}</h3>\r\n            <p>Total Bookmarks</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\" style={{ backgroundColor: '#d1fae5' }}>\r\n            <FiTrendingUp size={24} color=\"#065f46\" />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <h3>{overview.totalThemes}</h3>\r\n            <p>Unique Themes</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Users */}\r\n      <div className=\"card\">\r\n        <h3 className=\"card-title\">Recent Users</h3>\r\n        <div className=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Joined</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {recentUsers.map((user, index) => (\r\n                <tr key={index}>\r\n                  <td>{user.name || 'N/A'}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>{new Date(user.createdAt).toLocaleDateString()}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,GAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,OAASC,QAAQ,CAAEC,GAAG,CAAEC,QAAQ,CAAEC,GAAG,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAAEC,OAAO,CAAEC,MAAM,CAAEC,mBAAmB,KAAQ,UAAU,CAChI,OAASC,OAAO,CAAEC,MAAM,CAAEC,UAAU,CAAEC,YAAY,KAAQ,gBAAgB,CAC1E,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,MAAM,CAAG,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAEtE,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC4B,KAAK,CAAEC,QAAQ,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd6B,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAA7B,GAAG,CAAC8B,GAAG,CAAC,kBAAkB,CAAC,CAElD,GAAID,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAE,CACzBT,QAAQ,CAACM,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,CAC9B,CACF,CAAE,MAAOE,GAAG,CAAE,CACZN,QAAQ,CAAC,4BAA4B,CAAC,CACtCO,OAAO,CAACR,KAAK,CAACO,GAAG,CAAC,CACpB,CAAC,OAAS,CACRR,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BnB,IAAA,QAAKkB,SAAS,CAAC,SAAS,CAAM,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAIT,KAAK,CAAE,CACT,mBAAOT,IAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEV,KAAK,CAAM,CAAC,CACrD,CAEA,GAAI,CAACJ,KAAK,CAAE,MAAO,KAAI,CAEvB,KAAM,CAAEe,QAAQ,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAAGlB,KAAK,CAEzD;AACA,KAAM,CAAAmB,UAAU,CAAGC,MAAM,CAACC,OAAO,CAACL,MAAM,CAAC,CAACM,GAAG,CAACC,IAAA,MAAC,CAACC,IAAI,CAAEC,KAAK,CAAC,CAAAF,IAAA,OAAM,CAChEC,IAAI,CACJC,KACF,CAAC,EAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAEhB,KAAM,CAAAC,YAAY,CAAGP,MAAM,CAACC,OAAO,CAACJ,QAAQ,CAAC,CAACK,GAAG,CAACM,KAAA,MAAC,CAACJ,IAAI,CAAEC,KAAK,CAAC,CAAAG,KAAA,OAAM,CACpEJ,IAAI,CAAEA,IAAI,CAACK,OAAO,CAAC,SAAS,CAAE,IAAI,CAAC,CACnCC,MAAM,CAAEL,KACV,CAAC,EAAC,CAAC,CAEH,mBACE5B,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,OAAIkB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cAGzCjB,KAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjB,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAACkB,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAlB,QAAA,cAC/DnB,IAAA,CAACL,OAAO,EAAC2C,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,CAClC,CAAC,cACNrC,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnB,IAAA,OAAAmB,QAAA,CAAKC,QAAQ,CAACoB,UAAU,CAAK,CAAC,cAC9BxC,IAAA,MAAAmB,QAAA,CAAG,aAAW,CAAG,CAAC,EACf,CAAC,EACH,CAAC,cAENjB,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAACkB,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAlB,QAAA,cAC/DnB,IAAA,CAACJ,MAAM,EAAC0C,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,CACjC,CAAC,cACNrC,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnB,IAAA,OAAAmB,QAAA,CAAKC,QAAQ,CAACqB,WAAW,CAAK,CAAC,cAC/BzC,IAAA,MAAAmB,QAAA,CAAG,cAAY,CAAG,CAAC,EAChB,CAAC,EACH,CAAC,cAENjB,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAACkB,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAlB,QAAA,cAC/DnB,IAAA,CAACH,UAAU,EAACyC,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,CACrC,CAAC,cACNrC,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnB,IAAA,OAAAmB,QAAA,CAAKC,QAAQ,CAACsB,cAAc,CAAK,CAAC,cAClC1C,IAAA,MAAAmB,QAAA,CAAG,iBAAe,CAAG,CAAC,EACnB,CAAC,EACH,CAAC,cAENjB,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAACkB,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAU,CAAE,CAAAlB,QAAA,cAC/DnB,IAAA,CAACF,YAAY,EAACwC,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,CACvC,CAAC,cACNrC,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnB,IAAA,OAAAmB,QAAA,CAAKC,QAAQ,CAACuB,WAAW,CAAK,CAAC,cAC/B3C,IAAA,MAAAmB,QAAA,CAAG,eAAa,CAAG,CAAC,EACjB,CAAC,EACH,CAAC,EACH,CAAC,cAGNjB,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnB,IAAA,OAAIkB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC5CnB,IAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BjB,KAAA,UAAAiB,QAAA,eACEnB,IAAA,UAAAmB,QAAA,cACEjB,KAAA,OAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdnB,IAAA,OAAAmB,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRnB,IAAA,UAAAmB,QAAA,CACGI,WAAW,CAACI,GAAG,CAAC,CAACiB,IAAI,CAAEC,KAAK,gBAC3B3C,KAAA,OAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAKyB,IAAI,CAACf,IAAI,EAAI,KAAK,CAAK,CAAC,cAC7B7B,IAAA,OAAAmB,QAAA,CAAKyB,IAAI,CAACE,KAAK,CAAK,CAAC,cACrB9C,IAAA,OAAAmB,QAAA,CAAK,GAAI,CAAA4B,IAAI,CAACH,IAAI,CAACI,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,GAHjDJ,KAIL,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAzC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}